<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="This is social network html5 template available in themeforest......">
		<meta name="keywords" content="Social Network, Social Media, Make Friends, Newsfeed, Profile Page">
		<meta name="robots" content="index, follow">
		<title>My Friends | Friend Finder Friend List</title>

    <!-- Stylesheets
    ================================================= -->
		<link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" href="/css/ionicons.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    
    <!--Google Font-->
    <link href="/../css.css?family=Lato:300,400,400i,700,700i" rel="stylesheet">
    
    <!--Favicon-->
    <link rel="shortcut icon" type="image/png" href="/images/fav.png">
	</head>
  <body>
    <!-- Header
    ================================================= -->
		<header id="header">
      <nav class="navbar navbar-default navbar-fixed-top menu">
        <div class="container">

          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/posts"><img src="/images/logo.png" alt="logo"></a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div th:include="fragment/header-menu-fragment::header-menu"></div>

        </div><!-- /.container -->
      </nav>
    </header>
    <!--Header End-->

    <div class="container">

      <!-- Timeline
      ================================================= -->
      <div class="timeline">
        <div class="timeline-cover">

          <!--Timeline Menu for Large Screens-->
          <div class="timeline-nav-bar hidden-sm hidden-xs">
            <form action="/timeline/change-profile-bg-pic" method="post" enctype="multipart/form-data" id="profile-bg-form">
              <div th:if="${profile.id == user.id}">
                <input type="file" name="profile-bg-pic" style="display: none" id="profile-bg-picture">
                <a href="#" onclick="document.getElementById('profile-bg-picture').click()"> <img th:if="${user.getProfileBackgroundPic() == null || user.getProfileBackgroundPic().equalsIgnoreCase('null')}" src="/images/covers/1.jpg" alt="" > </a>
                <a href="#" onclick="document.getElementById('profile-bg-picture').click()"> <img th:if="${user.getProfileBackgroundPic() != null}" th:src="@{/getBgProfilePic(imageName=${user.getProfileBackgroundPic()})}" width="1030" alt="" id="profile-bg-pic"  > </a>
              </div>
              <div th:if="${profile.id != user.id}">
                <a> <img th:if="${user.getProfileBackgroundPic() == null || user.getProfileBackgroundPic().equalsIgnoreCase('null')}" src="/images/covers/1.jpg" alt="" > </a>
                <a> <img th:if="${user.getProfileBackgroundPic() != null}" th:src="@{/getBgProfilePic(imageName=${user.getProfileBackgroundPic()})}" width="1030" alt=""  > </a>
              </div>
            </form>
            <script>
              document.getElementById('profile-bg-picture').addEventListener('change', function() {
                document.getElementById('profile-bg-form').submit();
              });
            </script>
            <div class="row">
              <div class="col-md-3">
                <form action="/timeline/change-profile-pic" method="post" enctype="multipart/form-data" id="profile-form">
                  <input type="file" name="profile-pic" style="display: none" id="profile-pic">
                  <div th:if="${profile.id == user.id}">
                    <div class="profile-info" th:if="${user.getProfilePicture() == null || user.getProfilePicture().equalsIgnoreCase('null')}" >
                      <a  href="#" onclick="document.getElementById('profile-pic').click()"><img alt="" class="img-responsive profile-photo" src="/images/post-images/difault.png"> </a>

                      <h3><i th:text="${user.name}"></i>  <i th:text="${user.surname}"></i></h3>
                    </div>
                    <div class="profile-info" th:if="${user.getProfilePicture() != null}">
                      <a href="#" onclick="document.getElementById('profile-pic').click()"><img alt="" class="img-responsive profile-photo" th:src="@{/getProfilePic(imageName=${user.getProfilePicture()})}"> </a>

                      <h3><i th:text="${user.name}"></i>  <i th:text="${user.surname}"></i></h3>
                    </div>
                  </div>
                  <div th:if="${profile.id != user.id}">
                    <div class="profile-info" th:if="${user.getProfilePicture() == null || user.getProfilePicture().equalsIgnoreCase('null')}" >
                      <a><img alt="" class="img-responsive profile-photo" src="/images/post-images/difault.png"> </a>
                      <h3><i th:text="${user.name}"></i>  <i th:text="${user.surname}"></i></h3>
                    </div>
                    <div class="profile-info" th:if="${user.getProfilePicture() != null}">
                      <a><img alt="" class="img-responsive profile-photo" th:src="@{/getProfilePic(imageName=${user.getProfilePicture()})}"> </a>
                      <h3><i th:text="${user.name}"></i>  <i th:text="${user.surname}"></i></h3>
                    </div>
                  </div>
                </form>
                <script>
                  document.getElementById('profile-pic').addEventListener('change', function() {
                    document.getElementById('profile-form').submit();
                  });
                </script>

              </div>
              <div class="col-md-9">
                <ul class="list-inline profile-menu">
                  <li><a th:href="@{'/users/profile/' + ${user.id}}" >Timeline</a></li>
                  <li><a th:href="@{'/users/about/profile/' + ${user.id}}">About</a></li>
                  <li><a th:href="@{'/users/image/profile/' + ${user.id}}">Album</a></li>
                  <li><a th:href="@{'/users/friend/profile/' + ${user.id}}" class="active">Friends</a></li>
                </ul>
                <ul class="follow-me list-inline">
                  <li th:text="${friendsCount + ' friends'}"></li>
                  <li th:if="${profile.id != user.id}">
                    <a th:href="@{'/users/friend/profile/sendRequest?sender=' + ${profile.id} + '&receiver=' +${user.id}}">
                    <button class="btn-primary" >Add Friend</button>
                  </a></li>
                </ul>
              </div>
            </div>
          </div><!--Timeline Menu for Large Screens End-->

          <!--Timeline Menu for Small Screens-->
          <div class="navbar-mobile hidden-lg hidden-md">
            <div class="profile-info">
              <img src="images/users/user-1.jpg" alt="" class="img-responsive profile-photo">
              <h4>Sarah Cruiz</h4>
              <p class="text-muted">Creative Director</p>
            </div>
            <div class="mobile-menu">
              <ul class="list-inline">
                <li><a th:href="@{'/users/profile/' + ${user.id}}">Timeline</a></li>
                <li><a th:href="@{'/users/about/profile/' + ${user.id}}">About</a></li>
                <li><a th:href="@{'/users/image/profile/' + ${user.id}}" class="active">Album</a></li>
                <li><a th:href="@{'/users/friend/profile/' + ${user.id}}" class="active">Friends</a></li>
              </ul>
              <button class="btn-primary">Add Friend</button>
            </div>
          </div><!--Timeline Menu for Small Screens End-->

        </div>
        <div id="page-contents">
          <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-7">

              <!-- Friend List
              ================================================= -->
              <div class="friend-list">
                <div class="row">
                  <div class="col-md-6 col-sm-6" th:each="friend : ${friends}">
                    <div class="friend-card">
                      <img th:if="${friend.getProfileBackgroundPic() == null || friend.getProfileBackgroundPic().equalsIgnoreCase('null')}"
                           src="/images/covers/1.jpg" alt="profile-cover" class="img-responsive cover">
                      <img th:if="${friend.getProfileBackgroundPic() != null}"
                           th:src="@{/getBgProfilePic(imageName=${friend.getProfileBackgroundPic()})}"  alt="profile-cover" class="img-responsive cover">
                      <div class="card-info">
                        <img th:if="${friend.getProfilePicture() == null || friend.getProfilePicture().equalsIgnoreCase('null')}"
                             src="/images/post-images/difault.png" alt="user" class="profile-photo-lg">
                        <img th:if="${friend.getProfilePicture() != null}"
                             th:src="@{/getProfilePic(imageName=${friend.getProfilePicture()})}" alt="user" class="profile-photo-lg">
                        <div class="friend-info">
                          <p class="pull-right text-green" style="color: #4cae4c">My Friend</p>
                          <h5><a th:href="@{'/users/profile/' + ${friend.id}}" class="profile-link" th:text="${friend.name} + ' ' + ${friend.surname}"></a></h5>
                          <p th:text="${friend.country.name} + ', ' + ${friend.city}"></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-2 static">
              <div id="sticky-sidebar">
                <h4 class="grey">Sarah's activity</h4>
                <div class="feed-item">
                  <div class="live-activity">
                    <p><a href="#" class="profile-link">Sarah</a> Commended on a Photo</p>
                    <p class="text-muted">5 mins ago</p>
                  </div>
                </div>
                <div class="feed-item">
                  <div class="live-activity">
                    <p><a href="#" class="profile-link">Sarah</a> Has posted a photo</p>
                    <p class="text-muted">an hour ago</p>
                  </div>
                </div>
                <div class="feed-item">
                  <div class="live-activity">
                    <p><a href="#" class="profile-link">Sarah</a> Liked her friend's post</p>
                    <p class="text-muted">4 hours ago</p>
                  </div>
                </div>
                <div class="feed-item">
                  <div class="live-activity">
                    <p><a href="#" class="profile-link">Sarah</a> has shared an album</p>
                    <p class="text-muted">a day ago</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- Footer
    ================================================= -->
    <footer th:include="fragment/footer-menu-fragment::footer-menu"></footer>
    
    <!--preloader-->
    <div id="spinner-wrapper">
      <div class="spinner"></div>
    </div>

    <!-- Scripts
    ================================================= -->
    <script src="/js/jquery-3.1.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.sticky-kit.min.js"></script>
    <script src="/js/jquery.scrollbar.min.js"></script>
    <script src="/js/script.js"></script>
    
  </body>
</html>
